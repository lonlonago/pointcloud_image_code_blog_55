#  First, the principle of the algorithm 

##  1. Implementation process 

   If the target point set corresponds to the reference point set, the corresponding points are satisfied: the number of points in the two point sets is equal, and the points in the point sets should correspond one-to-one. Let the rotation transformation vector be a unit quaternion: the rotation matrix can be obtained. Let the translation transformation vector be: the complete coordinate transformation vector can be obtained. Then the problem of finding the best coordinate transformation vector between the corresponding point sets can be transformed into the problem of getting a function: minimization. In the unit quaternion method, at least 3 pairs of coordinates of one-to-one corresponding points need to be known. The algorithm process is as follows: 1. Find the center of gravity respectively. The center of gravity of the original point is: After the conversion, the center of gravity of the point is: where, there is a pair of corresponding points, which 2. The constructed covariance matrix is: 3. The constructed matrix is: where, is the trace of the matrix; is, the identity matrix; is: where,. 4. Calculate the eigenvalue and eigenvector of the matrix, where the eigenvector corresponding to the largest eigenvalue is the unit quaternion. 5. Calculate the rotation matrix as: where, 6. Calculate the translation matrix as:  

##  2. References 

 [1]滕志远,张爱武.单位四元素法在激光点云坐标转换中的应用[J].测绘通报,2010(11):7-10.  

##  3. Main functions 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309574563595
  ```  
 Quaternion to Rotation Matrix 

#  Code implementation 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309574563595
  ```  
#  III. Display of results 

 ![avatar]( 93910a84fa454170b060795c446f2800.png) 

#  IV. Reference link 

 quat2dcm 

#  Test data 

 The test data is generated by MATLAB code, which is as follows: 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309574563595
  ```  
